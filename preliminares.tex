\usepackage{graphicx} % Allows including images
\usepackage{booktabs} % Allows the use of \toprule, \midrule and \bottomrule in tables
\usepackage{tikz,pgfplots}
\usepackage{fontspec}
\usepackage{caption}
\usepackage[absolute,overlay]{textpos}

\usetikzlibrary{shapes, snakes, arrows}

\setlength{\TPHorizModule}{10mm}
\setlength{\TPVertModule}{\TPHorizModule}
\textblockorigin{1mm}{1mm} % start everything near the top-left corner
\setlength{\parindent}{0pt}
%\usefonttheme{serif}
\setsansfont{Bookerly}
\setbeamerfont{footnote}{size=\tiny}

\beamertemplatetransparentcovereddynamic
\beamertemplatesolidbuttons
\beamertemplateroundedblocks
\definecolor{azul}{RGB}{1,80,159}
\definecolor{azulclaro}{RGB}{230,230,255}

\definecolor{myorange}{HTML}{fb8500}
\definecolor{myblue}{HTML}{219ebc}

\captionsetup{font=scriptsize, labelsep=period}
\captionsetup[figure]{name=图,labelfont={bf,color=myblue}}
\captionsetup[table]{name=表,labelfont={bf,color=myorange}}

% block styles
\setbeamercolor{titlelike}{fg=azul}
%\setbeamercolor{block title}{fg=white, bg=azul}
\setbeamercolor{block body}{bg=azulclaro, bg=structure!10}
\setbeamercolor{block title}{bg=structure!20}
\setbeamerfont{block title}{size=\scriptsize}

\setbeamertemplate{blocks}[rounded][shadow]

\setbeamercolor{block body alerted}{bg=alerted text.fg!10}
\setbeamercolor{block title alerted}{bg=alerted text.fg!20}

\setbeamercolor{block body example}{bg=green!10}
\setbeamercolor{block title example}{bg=green!20}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\incertarlogo}{\begin{textblock}{3}(10.5,0)
    \centering 
    \definecolor{colora}{rgb}{0.66,0.69,0.2} 
    \definecolor{colorb}{RGB}{103,99,74} 
    \definecolor{colorc}{RGB}{7,78,64} 
    \definecolor{colord}{RGB}{2,151,93} 
    \definecolor{colore}{RGB}{0,59,88} 
    \definecolor{colorf}{RGB}{0,128,189} 
    \definecolor{colorg}{RGB}{212,22,47} 
    \definecolor{colorh}{RGB}{226,112,42} 
    \definecolor{colori}{RGB}{237,173,24} 
    \definecolor{colorj}{RGB}{103,20,46} 
    \begin{tikzpicture}[x=0.1mm,y=0.1mm]          
        \draw[colorc, fill] (30,-30) -- +(0,30) -- +(10,30) -- +(10,0) -- cycle;     
        \draw[colorb, fill] (10,-30) -- +(30,0) -- +(20,-10) -- +(0,-10) -- cycle;         
        \draw[colora, fill] (0,0) -- +(0,-30) -- +(10,-40) -- +(10,10) -- cycle;             
        \draw[colord, fill] (30,0) -- +(10,10) -- +(30,10) -- +(20,0) -- cycle;     
        \draw[colorf, fill] (53,0) -- +(0,-40) -- +(10,-30) -- +(10,0) -- cycle;     
        \draw[colore, fill] (53,0) -- +(10,10) -- +(30,10) -- +(20,0) -- cycle;     
        \draw[colori, fill] (107,-12) -- +(-20,0) -- +(-20,-10) -- +(0,-10) -- cycle ;     
        \draw[colorh, fill] (107,0) -- +(10,0) -- +(10,-12) -- +(0,-22) -- cycle;     
        \draw[colorg, fill] (77,0) -- +(10,10) -- +(30,10) -- +(40,0) -- cycle;     
        \draw[colorj, fill] (87,-12) -- +(-10,-10) -- +(-10,-28) -- +(0,-18);         
    \end{tikzpicture} \end{textblock} 
    }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\definecolor{pagenum}{RGB}{173, 173, 224}

% set page num in footline
\setbeamertemplate{footline}{
  \usebeamercolor[fg]{page number in head}%
  \usebeamerfont{page number in head}%
  \begin{textblock}{3}(0, 8.6)
    {\color{pagenum}{\tiny\insertframenumber\,/\,\inserttotalframenumber}}
  \end{textblock}
}

\setbeamertemplate{section in toc}{%
  {\color{orange!70!black}\inserttocsectionnumber.}~\inserttocsection}
\setbeamercolor{subsection in toc}{bg=white,fg=structure}
\setbeamertemplate{subsection in toc}{%
  \hspace{1.2em}{\color{orange}\rule[0.3ex]{3pt}{3pt}}~\inserttocsubsection\par}

\AtBeginSection[]{
    \frame{\frametitle{Outline}\tableofcontents[
        sectionstyle=show/shaded,
        subsectionstyle=show/show/shaded]}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{listings}
\lstset{frameround=fttt,language=Python, keywordstyle=\color{blue!30!green}, tabsize=4, commentstyle=\color{orange},
    basicstyle=\ttfamily, numbers=left,numberstyle=\tiny}


\usepackage{mathtools}
\mathtoolsset{showonlyrefs}
